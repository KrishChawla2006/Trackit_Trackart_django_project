{% extends 'basee.html' %}
{% block title_block %}
<title>Your Purchase History</title>
{% endblock %}

{% block style_block %}
<style>
    .history-container {
        padding: 2rem;
    }
    .purchase-card {
        background-color: #fff;
        border-radius: 15px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
        padding: 20px;
        margin-bottom: 20px;
        transition: transform 0.3s ease;
    }
    .purchase-card:hover {
        transform: translateY(-4px);
    }
    .product-img {
        max-width: 100px;
        border-radius: 10px;
    }
    .add-to-cart-btn {
        border-radius: 25px;
        font-weight: 600;
    }
</style>
{% endblock %}

{% block main_block %}
<div class="container history-container">
    <h2 class="mb-4 fw-bold text-dark">ðŸ§¾ Your Purchase History</h2>

    {% if purchases %}
        {% for p in purchases %}
        <div class="row purchase-card align-items-center">
            <div class="col-md-2 text-center">
                <img src="{{ p.product.image_link }}" alt="Product Image" class="product-img img-fluid">
            </div>
            <div class="col-md-6">
                <h5 class="fw-semibold">{{ p.product.description }}</h5>
                <p class="mb-1 text-muted">Quantity: <strong>{{ p.quantity }}</strong></p>
                <p class="mb-1 text-muted">Price: â‚¹{{ p.price }}</p>
                <p class="mb-0 text-muted">Purchased on: {{ p.purchase_date|date:"d M Y H:i" }}</p>
            </div>
         
        </div>
        {% endfor %}
    {% else %}
        <div class="alert alert-info text-center">You have not made any purchases yet.</div>
    {% endif %}
</div>
{% endblock %}
